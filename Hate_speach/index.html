<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏¢‡∏≤‡∏ö‡∏Ñ‡∏≤‡∏¢</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Sriracha&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Prompt:wght@400;700&display=swap');

        :root {
            --primary-color: #ffb6c1; /* Light Pink */
            --secondary-color: #b19cd9; /* Light Purple */
            --accent-color: #ffd700; /* Gold */
            --text-color: #4b0082; /* Indigo */
            --background-blur-1: #ff69b4; /* Hot Pink */
            --background-blur-2: #87ceeb; /* Sky Blue */
            --background-blur-3: #98fb98; /* Pale Green */
            --shadow-color: rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Prompt', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            background-color: #f0f8ff; /* Alice Blue */
            color: var(--text-color);
            overflow: hidden;
        }

        .gradient-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .blurry-gradients {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .blurry-gradients::before,
        .blurry-gradients::after {
            content: '';
            position: absolute;
            border-radius: 50%;
            opacity: 0.8;
            animation: moveGlow 20s ease-in-out infinite alternate;
            filter: blur(50px);
        }

        .blurry-gradients::before {
            width: 300px;
            height: 300px;
            background: var(--background-blur-1);
            top: 10%;
            left: 20%;
        }

        .blurry-gradients::after {
            width: 400px;
            height: 400px;
            background: var(--background-blur-2);
            bottom: 5%;
            right: 15%;
            animation-delay: 5s;
        }

        @keyframes moveGlow {
            0% { transform: translate(0, 0) scale(1); }
            100% { transform: translate(50px, 50px) scale(1.2); }
        }

        .container {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 10px 30px var(--shadow-color);
            padding: 40px;
            text-align: center;
            max-width: 600px;
            width: 100%;
            position: relative;
            z-index: 1;
        }

        h1 {
            font-family: 'Sriracha', cursive;
            font-size: 2.5em;
            margin-bottom: 10px;
            color: var(--primary-color);
            text-shadow: 2px 2px 4px var(--shadow-color);
        }

        p {
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        input[type="text"] {
            width: 80%;
            padding: 12px 20px;
            border: 2px solid var(--secondary-color);
            border-radius: 30px;
            font-size: 1em;
            margin-right: 10px;
            transition: all 0.3s ease;
            box-shadow: inset 0 2px 4px var(--shadow-color);
        }

        input[type="text"]:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 8px var(--primary-color);
        }

        button {
            padding: 12px 25px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 1em;
            cursor: pointer;
            transition: transform 0.2s ease, background-color 0.2s ease;
            box-shadow: 0 4px 6px var(--shadow-color);
        }

        button:hover {
            background-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .result-box {
            margin-top: 30px;
            padding: 20px;
            border-radius: 15px;
            background: #fff;
            box-shadow: 0 4px 15px var(--shadow-color);
            min-height: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .initial-state {
            text-align: center;
            opacity: 0.8;
        }

        .emoji-bounce {
            font-size: 2.5em;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .score-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
            position: relative;
            width: 200px;
            height: 200px;
        }

        .chart-container {
            position: relative;
            width: 150px;
            height: 150px;
        }

        .score-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2.5em;
            font-weight: bold;
            color: var(--text-color);
            font-family: 'Sriracha', cursive;
            text-shadow: 1px 1px 2px var(--shadow-color);
        }

        .result-details h2 {
            font-family: 'Prompt', sans-serif;
            font-weight: bold;
            font-size: 1.8em;
            margin-bottom: 10px;
        }

        .result-details p {
            font-size: 1.1em;
            color: #666;
        }

        .label-polite {
            color: #4CAF50; /* Green */
        }

        .label-rude {
            color: #F44336; /* Red */
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="gradient-bg">
        <svg class="blurry-gradients">
            <defs>
                <filter id="goo">
                    <feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur" />
                    <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -8" result="goo" />
                    <feBlend in="SourceGraphic" in2="goo" />
                </filter>
            </defs>
        </svg>
    </div>
    
    <div class="container">
        <h1>üíñ‚ú® ‡∏°‡∏≤‡πÄ‡∏ä‡πá‡∏Å‡∏Å‡∏±‡∏ô‡πÄ‡∏ñ‡∏≠‡∏∞‡∏ß‡πà‡∏≤‡∏Ñ‡∏≥‡∏û‡∏π‡∏î‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡πà‡∏≤! ‚ú®üíñ</h1>
        <p>‡∏•‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏î‡∏π‡∏™‡∏¥</p>
        
        <input type="text" id="sentenceInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..." onkeypress="handleKeyPress(event)">
        <button onclick="checkSentence()">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</button>

        <div id="resultBox" class="result-box">
            <div id="initialState" class="initial-state">
                <p>‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏∞‡∏à‡πä‡∏∞</p>
                <div class="emoji-bounce">üå∏</div>
            </div>
            
            <div id="resultContent" class="hidden">
                <div class="score-container">
                    <div class="chart-container">
                        <canvas id="confidenceChart"></canvas>
                        <span id="scoreText" class="score-text">0%</span>
                    </div>
                </div>
                <div class="result-details">
                    <h2 id="resultLabel"></h2>
                    <p id="badWordsFound"></p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // ==== ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° dataset ‡πÅ‡∏ö‡∏ö‡∏°‡∏µ label ‡πÉ‡∏ô‡∏ï‡∏±‡∏ß ====
        const dataset = [
            { words: ["‡πÑ‡∏á", "‡πÑ‡∏≠", "‡∏≠‡πâ‡∏ß‡∏ô"], label: 1 },
            { words: ["‡∏≠‡∏¢‡πà‡∏≤", "‡πÇ‡∏á‡πà"], label: 1 },
            { words: ["‡πÄ‡∏á‡∏µ‡∏¢‡∏ö", "‡πÄ‡∏û‡∏∑‡πà‡∏≠"], label: 1 },
            { words: ["‡πÑ‡∏≠", "‡∏Ñ‡∏ß‡∏≤‡∏¢"], label: 1 },
            { words: ["‡∏´‡∏∏‡∏ö‡∏õ‡∏≤‡∏Å", "‡πÑ‡∏≠", "‡πÄ‡∏ï‡∏µ‡πâ‡∏¢"], label: 1 },
            { words: ["‡πÄ‡πÄ‡∏•‡πâ‡∏ß", "‡πÑ‡∏á"], label: 1 },
            { words: ["‡∏≠‡∏¢‡πà‡∏≤‡∏á", "‡πÇ‡∏á‡πà", "‡πÄ‡∏•‡∏¢"], label: 1 },
            { words: ["‡πÄ‡∏Ñ‡∏¢", "‡πÇ‡∏î‡∏ô", "‡∏ï‡∏µ‡∏ô", "‡πÑ‡∏´‡∏°"], label: 1 },
            { words: ["‡πÑ‡∏õ", "‡πÑ‡∏´‡∏ô", "‡∏Å‡πá", "‡πÑ‡∏õ"], label: 1 },
            { words: ["‡πÑ‡∏≠", "‡πÄ‡∏î‡πá‡∏Å", "‡∏ô‡πâ‡∏≠‡∏¢"], label: 1 },
            { words: ["‡∏û‡πà‡∏≠", "‡∏°‡∏∂‡∏á", "‡∏≠‡∏∞"], label: 1 },
            { words: ["‡πÄ‡πÄ‡∏°‡πà‡∏á", "‡πÄ‡∏õ‡πá‡∏ô", "‡∏≠‡∏∞‡πÑ‡∏£", "‡∏ß‡∏∞"], label: 1 },
            { words: ["‡∏ó‡∏≥", "‡∏ï‡∏±‡∏ß", "‡∏ô‡πà‡∏≤", "‡πÄ‡∏Å‡∏µ‡∏¢‡∏à"], label: 1 },
            { words: ["‡∏Ñ‡∏∏‡∏ì", "‡∏°‡∏±‡∏ô", "‡∏Ç‡∏¢‡∏∞", "‡∏Ç‡∏≠‡∏á", "‡∏ó‡∏µ‡∏°"], label: 1 },
            { words: ["‡πÄ‡∏•‡πà‡∏ô", "‡∏Å‡∏≤‡∏Å", "‡∏°‡∏≤‡∏Å", "‡∏Ñ‡∏£‡∏±‡∏ö"], label: 1 },
            { words: ["‡πÇ‡∏Ñ‡∏£‡∏ï", "‡∏ó‡∏∏‡πÄ‡∏•‡∏™"], label: 1 },
            { words: ["‡πÇ‡∏Ñ‡∏£‡∏ï", "‡πÄ‡∏´‡∏°‡πá‡∏ô", "‡∏≠‡∏∞"], label: 1 },
            { words: ["‡∏´‡∏ô‡∏±‡∏á", "‡πÇ‡∏Ñ‡∏£‡∏ï", "‡∏î‡∏µ"], label: 1 },
            { words: ["‡∏ï‡∏≠‡πÄ‡πÄ‡∏´‡∏•", "‡∏à‡∏±‡∏á", "‡∏ô‡∏∞"], label: 1 },
            { words: ["‡∏≠‡∏¢‡πà‡∏≤", "‡πÄ‡∏™‡∏∑‡∏≠‡∏Å", "‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á", "‡∏Ç‡∏≠‡∏á", "‡∏Ñ‡∏ô", "‡∏≠‡∏∑‡πà‡∏ô"], label: 1 },
            { words: ["‡πÄ‡∏™‡∏£‡πà‡∏≠", "‡∏à‡∏±‡∏á", "‡∏ô‡∏∞", "‡∏Ñ‡∏∏‡∏ì"], label: 1 },
            { words: ["‡∏õ‡∏≤‡∏Å", "‡∏´‡∏°‡∏≤", "‡∏ô‡∏∞", "‡πÄ‡∏£‡∏≤"], label: 1 },
            { words: ["‡∏°‡∏∂‡∏á", "‡∏Ñ‡∏¥‡∏î", "‡∏ß‡πà‡∏≤", "‡∏°‡∏∂‡∏á", "‡πÄ‡∏Å‡πà‡∏á", "‡∏°‡∏≤‡∏Å", "‡∏´‡∏£‡∏≠"], label: 1 },
            { words: ["‡∏•‡∏≤‡∏ß", "‡∏°‡∏≤‡∏Å", "‡∏ô‡∏∞", "‡∏Ñ‡∏∏‡∏ì"], label: 1 },
            { words: ["‡πÑ‡∏≠", "‡∏´‡∏ô‡πâ‡∏≤", "‡∏™‡πâ‡∏ô‡∏ï‡∏µ‡∏ô"], label: 1 },
            { words: ["‡∏Å‡∏π", "‡∏ó‡∏≥", "‡∏≠‡∏∞‡πÑ‡∏£", "‡πÉ‡∏´‡πâ", "‡∏°‡∏∂‡∏á", "‡∏¢‡∏±‡∏á"], label: 1 },
            { words: ["‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß", "‡∏°‡∏∂‡∏á", "‡πÄ‡∏à‡∏≠", "‡∏Å‡∏π"], label: 1 },
            { words: ["‡∏≠‡∏¢‡πà‡∏≤", "‡∏ó‡∏≥", "‡∏ï‡∏±‡∏ß", "‡πÄ‡∏´‡∏µ‡πâ‡∏¢", "‡πÄ‡πÄ‡∏ö‡∏ö", "‡∏ô‡∏µ‡πâ"], label: 1 },
            { words: ["‡∏ô‡∏≤‡∏¢", "‡πÄ‡∏•‡∏ß", "‡∏°‡∏≤‡∏Å"], label: 1 },
            { words: ["‡∏Å‡∏π", "‡∏™‡∏ß‡∏¢", "‡πÑ‡∏´‡∏°"], label: 1 },
            { words: ["‡πÇ‡∏ñ‡πà", "‡πÑ‡∏≠", "‡∏≠‡πâ‡∏ß‡∏ô", "‡∏°‡∏∂‡∏á", "‡∏≠‡∏¢‡πà‡∏≤", "‡πÇ‡∏á‡πà", "‡∏î‡∏¥", "‡∏ß‡∏∞"], label: 1 },
            { words: ["‡∏à‡∏∞", "‡∏ó‡∏≥", "‡∏≠‡∏∞‡πÑ‡∏£", "‡∏°‡∏∂‡∏á", "‡∏Å‡πá", "‡∏ó‡∏≥"], label: 1 },
            { words: ["‡∏Å‡∏π", "‡πÑ‡∏°‡πà", "‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß"], label: 1 },
            { words: ["‡∏ó‡∏≥", "‡∏≠‡∏∞‡πÑ‡∏£", "‡∏ß‡∏∞"], label: 1 },
            { words: ["‡πÉ‡∏ä‡πâ", "‡∏ö‡πâ‡∏≤‡∏á", "‡∏î‡∏¥", "‡∏™‡∏°‡∏≠‡∏á"], label: 1 },
            { words: ["‡∏°‡∏µ", "‡πÑ‡∏´‡∏°", "‡∏™‡∏°‡∏≠‡∏á"], label: 1 },
            { words: ["‡∏°‡∏±‡∏ô", "‡∏ä‡∏±‡πà‡∏ß", "‡∏ô‡∏∞"], label: 1 },
            { words: ["‡∏™‡∏∏‡∏ô‡∏±‡∏Ç", "‡πÄ‡∏ß‡∏£"], label: 1 },
            { words: ["‡πÄ‡πÄ‡∏°‡πà‡∏á", "‡πÇ‡∏Ñ‡∏£‡∏ï", "‡∏´‡∏°‡∏≤", "‡πÄ‡∏•‡∏¢"], label: 1 },
            { words: ["‡πÄ‡∏õ‡πá‡∏ô", "‡∏Ñ‡∏ß‡∏¢", "‡∏≠‡∏∞‡πÑ‡∏£", "‡∏ß‡∏∞"], label: 1 },
            { words: ["‡πÑ‡∏≠", "‡∏™‡∏±‡∏™"], label: 1 },
            { words: ["‡πÑ‡∏≠", "‡∏´‡πà‡∏≤", "‡∏°‡∏±‡∏ô", "‡πÄ‡∏´‡∏µ‡πâ‡∏¢", "‡∏à‡∏±‡∏á", "‡∏ß‡∏∞"], label: 1 },
            { words: ["‡πÇ‡∏á‡πà", "‡∏î‡∏±‡∏Å‡∏î‡∏≤‡∏ô", "‡∏ô‡∏∞", "‡πÄ‡πÄ‡∏Å"], label: 1 },
            { words: ["‡∏ä‡πà‡∏ß‡∏¢", "‡∏î‡πâ‡∏ß‡∏¢", "‡∏Ñ‡πà‡∏∞", "‡πÑ‡∏≠", "‡πÇ‡∏à‡∏£", "‡∏ä‡∏±‡πà‡∏ß", "‡∏°‡∏±‡∏ô", "‡∏Ç‡πÇ‡∏°‡∏¢", "‡∏Ç‡∏≠‡∏á", "‡∏î‡∏¥‡∏ä‡∏±‡πâ‡∏ô", "‡πÑ‡∏õ"], label: 1 },
            { words: ["‡∏ó‡∏≥", "‡∏ï‡∏±‡∏ß", "‡πÇ‡∏Ñ‡∏£‡∏ï", "‡∏™‡∏ñ‡∏∏‡∏ô", "‡∏´‡∏°‡∏≤", "‡πÄ‡∏•‡∏¢"], label: 1 },
            { words: ["‡∏£‡∏±‡∏Å", "‡∏ô‡∏∞", "‡∏≠‡∏µ", "‡∏Ñ‡∏ß‡∏≤‡∏¢"], label: 1 },
            { words: ["‡∏≠‡∏¢‡πà‡∏≤", "‡∏£‡πà‡∏≤‡∏ô", "‡∏Ñ‡πà‡∏∞", "‡∏≠‡∏µ", "‡∏î‡∏≠‡∏Å", "‡∏ó‡∏≠‡∏á"], label: 1 },
            { words: ["‡∏•‡∏∞", "‡∏°‡∏∂‡∏á", "‡πÄ‡∏õ‡πá‡∏ô", "‡∏Ñ‡∏ß‡∏¢", "‡πÑ‡∏£", "‡∏≠‡∏∞"], label: 1 },
            { words: ["‡∏Å‡∏•‡∏±‡∏ö", "‡∏ö‡πâ‡∏≤‡∏ô", "‡πÄ‡∏û‡∏∑‡πà‡∏≠", "‡∏≠‡∏∞", "‡πÑ‡∏£", "‡∏ß‡∏∞"], label: 1 },
            { words: ["‡∏Ñ‡∏∏‡∏ì", "‡∏°‡∏∂‡∏á", "‡πÑ‡∏°‡πà", "‡∏°‡∏≤", "‡∏ä‡πà‡∏ß‡∏¢", "‡∏Å‡∏±‡∏ô", "‡∏•‡πà‡∏∞", "‡∏Ñ‡∏£‡∏±‡∏ö"], label: 1 },
            { words: ["‡πÇ‡∏ñ‡πà", "‡∏≠‡∏µ", "‡πÇ‡∏á‡πà", "‡∏°‡∏∂‡∏á", "‡∏ô‡∏µ‡πà", "‡∏°‡∏±‡∏ô", "‡πÑ‡∏°‡πà", "‡πÑ‡∏î‡πâ", "‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á", "‡∏™‡∏±‡∏Å", "‡∏≠‡∏¢‡πà‡∏≤‡∏á"], label: 1 },
            { words: ["‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß", "‡πÄ‡∏≠‡∏≤", "‡∏ï‡∏µ‡∏ô", "‡∏ñ‡∏µ‡∏ö", "‡∏¢‡∏≠‡∏î", "‡∏´‡∏ô‡πâ‡∏≤", "‡πÉ‡∏´‡πâ"], label: 1 },
            { words: ["‡πÄ‡∏Å‡∏°", "‡πÇ‡∏Ñ‡∏£‡∏ï", "‡∏Å‡∏≤‡∏Å"], label: 1 },
            { words: ["‡πÄ‡∏ô‡∏ï", "‡∏≠‡∏¢‡πà‡∏≤‡∏á", "‡πÄ‡∏´‡∏µ‡πâ‡∏¢"], label: 1 },
            { words: ["‡πÄ‡∏≠‡∏≠", "‡πÑ‡∏≠", "‡∏≠‡∏±‡∏õ‡∏õ‡∏£‡∏µ"], label: 1 },
            { words: ["‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á", "‡∏Ç‡∏≠‡∏á", "‡∏°‡∏∂‡∏á"], label: 1 },
            { words: ["‡∏°‡∏∂‡∏á", "‡∏ï‡πà‡∏≠‡∏¢", "‡∏Å‡∏π", "‡∏ï‡∏ö", "‡∏≠‡∏∞", "‡πÄ‡∏≠‡∏≤", "‡∏î‡∏¥"], label: 1 },
            { words: ["‡∏õ‡∏≤‡∏Å", "‡∏´‡∏°‡∏≤", "‡∏à‡∏±‡∏á", "‡∏ô‡∏∞", "‡∏Ñ‡∏∞"], label: 1 },
            { words: ["‡πÑ‡∏≠", "‡πÄ‡πÄ‡∏ß‡πà‡∏ô", "‡∏ô‡∏±‡πà‡∏ô", "‡∏°‡∏∂‡∏á", "‡∏´‡πâ‡∏≤‡∏ß", "‡∏´‡∏£‡∏≠"], label: 1 },
            { words: ["‡πÄ‡∏Å‡πá‡∏ö", "‡∏õ‡∏≤‡∏Å", "‡πÑ‡∏ß‡πâ", "‡πÄ‡πÄ‡∏î‡∏Å", "‡∏Ç‡πâ‡∏≤‡∏ß", "‡∏ô‡∏∞", "‡∏´‡∏ô‡∏π"], label: 1 },
            { words: ["‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ", "‡∏Ñ‡∏£‡∏±‡∏ö"], label: 0 },
            { words: ["‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì", "‡∏°‡∏≤‡∏Å", "‡∏Ñ‡∏£‡∏±‡∏ö", "‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö", "‡∏Ñ‡∏≥", "‡∏ä‡∏°"], label: 0 },
            { words: ["‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ", "‡∏Ñ‡∏£‡∏±‡∏ö", "‡∏Ñ‡∏ô", "‡∏™‡∏ß‡∏¢"], label: 0 },
            { words: ["‡πÑ‡∏á", "‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô"], label: 0 },
            { words: ["‡∏î‡∏µ", "‡∏ô‡∏∞", "‡πÑ‡∏°‡πà", "‡πÄ‡∏ó", "‡∏à‡∏ô", "‡∏´‡∏°‡∏î"], label: 0 },
            { words: ["‡πÄ‡∏Ñ‡∏¢", "‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô", "‡∏Å‡∏±‡∏ô", "‡∏Ñ‡πà‡∏∞"], label: 0 },
            { words: ["‡πÄ‡∏Ñ‡∏¢", "‡∏ó‡∏≥", "‡∏•‡∏∞", "‡πÄ‡πÄ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ"], label: 0 },
            { words: ["‡πÄ‡∏Å‡πá‡∏ö", "‡∏≠‡∏≠‡∏Å", "‡πÄ‡πÄ‡∏ó‡∏ö", "‡πÑ‡∏°‡πà", "‡∏ó‡∏±‡∏ô"], label: 0 },
            { words: ["‡∏î‡∏µ", "‡πÄ‡πÄ‡∏•‡πâ‡∏ß", "‡∏ó‡∏µ‡πà", "‡πÄ‡πÄ‡∏ä‡∏£‡πå", "‡πÉ‡∏´‡πâ", "‡πÄ‡∏´‡πá‡∏ô", "‡∏Å‡πà‡∏≠‡∏ô"], label: 0 },
            { words: ["‡πÄ‡∏´‡πá‡∏ô", "‡πÄ‡πÄ‡∏•‡πâ‡∏ß", "‡∏Ç‡∏≥", "‡∏°‡∏≤‡∏Å", "‡πÄ‡∏•‡∏¢", "‡∏Ñ‡πà‡∏∞"], label: 0 },
            { words: ["‡πÄ‡∏Ñ‡∏¢", "‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô", "‡∏Å‡∏±‡∏ô", "‡∏Ñ‡∏£‡∏±‡∏ö"], label: 0 },
            { words: ["‡∏ú‡∏°", "‡πÇ‡∏î‡∏ô", "‡∏ú‡∏µ", "‡∏´‡∏•‡∏≠‡∏Å"], label: 0 },
            { words: ["‡∏´‡∏ô‡∏±‡∏á", "‡∏î‡∏µ", "‡∏°‡∏≤‡∏Å"], label: 0 },
            { words: ["‡∏ß‡∏±‡∏ô", "‡∏ô‡∏µ‡πâ", "‡πÄ‡∏ò‡∏≠", "‡∏ó‡∏≤‡∏ô", "‡∏Ç‡πâ‡∏≤‡∏ß", "‡∏´‡∏£‡∏∑‡∏≠", "‡∏¢‡∏±‡∏á"], label: 0 },
            { words: ["‡πÄ‡∏£‡∏≤", "‡∏´‡∏¥‡∏ß", "‡∏≠‡∏∞", "‡πÄ‡∏ò‡∏≠"], label: 0 },
            { words: ["‡∏ó‡∏≥‡πÑ‡∏°", "‡πÄ‡∏Ñ‡πâ‡∏≤", "‡∏Ñ‡∏ô", "‡∏ô‡∏±‡πâ‡∏ô", "‡∏ñ‡∏∂‡∏á", "‡∏ó‡∏≥", "‡πÄ‡πÄ‡∏ö‡∏ö", "‡∏ô‡∏±‡πâ‡∏ô", "‡∏´‡∏£‡∏≠"], label: 0 },
            { words: ["‡∏ß‡∏±‡∏ô", "‡∏ô‡∏µ‡πâ", "‡∏ú‡∏°", "‡∏ß‡πà‡∏≤‡∏á", "‡∏ô‡∏∞"], label: 0 },
            { words: ["‡πÑ‡∏õ", "‡πÄ‡∏î‡∏¥‡∏ô", "‡πÄ‡∏•‡πà‡∏ô", "‡∏Ç‡πâ‡∏≤‡∏á", "‡∏ô‡∏≠‡∏Å", "‡πÑ‡∏´‡∏°"], label: 0 },
            { words: ["‡∏Ñ‡∏∏‡∏ì", "‡∏Ñ‡∏∑‡∏≠", "‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢", "‡πÄ‡∏°‡∏∑‡πà‡∏≠", "‡∏ß‡∏±‡∏ô", "‡∏Å‡πà‡∏≠‡∏ô", "‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°", "‡∏Ñ‡∏∞"], label: 0 },
            { words: ["‡∏™‡∏∏‡∏ô‡∏±‡∏Ç", "‡∏ï‡∏±‡∏ß", "‡∏ô‡∏µ‡πâ", "‡∏ô‡πà‡∏≤", "‡∏£‡∏±‡∏Å", "‡∏à‡∏∞", "‡∏ï‡∏≤‡∏¢"], label: 0 },
            { words: ["‡∏â‡∏±‡∏ô", "‡∏ä‡∏≠‡∏ö", "‡πÄ‡πÄ‡∏°‡∏ß"], label: 0 },
            { words: ["‡∏ß‡∏±‡∏ô", "‡∏ô‡∏µ‡πâ", "‡πÄ‡∏£‡∏≤", "‡∏Ç‡∏≠", "‡πÑ‡∏õ", "‡∏î‡πâ‡∏ß‡∏¢", "‡∏ô‡∏∞"], label: 0 },
            { words: ["‡∏ú‡∏°", "‡πÄ‡∏´‡∏á‡∏≤", "‡∏Ñ‡∏£‡∏±‡∏ö"], label: 0 },
            { words: ["‡∏â‡∏±‡∏ô", "‡πÑ‡∏°‡πà", "‡∏£‡∏±‡∏Å", "‡∏ô‡∏≤‡∏¢", "‡πÄ‡πÄ‡∏•‡πâ‡∏ß"], label: 0 },
            { words: ["‡∏ñ‡πâ‡∏≤", "‡∏°‡∏±‡∏ô", "‡πÄ‡∏õ‡πá‡∏ô", "‡∏ú‡∏°", "‡∏Å‡πá", "‡∏Ñ‡∏á", "‡∏î‡∏µ"], label: 0 },
            { words: ["‡∏Ç‡∏≠", "‡∏¢‡∏∑‡∏°", "‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠", "‡∏´‡∏ô‡πà‡∏≠‡∏¢", "‡∏™‡∏¥"], label: 0 },
            { words: ["‡∏à‡∏∞", "‡πÄ‡∏≠‡∏≤", "‡∏≠‡∏∞‡πÑ‡∏£", "‡∏≠‡∏µ‡∏Å", "‡πÑ‡∏´‡∏°"], label: 0 },
            { words: ["‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢", "‡∏Å‡πá", "‡∏û‡∏±‡∏Å", "‡∏ö‡πâ‡∏≤‡∏á", "‡∏ô‡∏∞"], label: 0 },
            { words: ["‡πÄ‡∏£‡∏≤", "‡πÄ‡∏õ‡πá‡∏ô", "‡∏´‡πà‡∏ß‡∏á"], label: 0 },
            { words: ["‡∏£‡∏π‡πâ", "‡πÑ‡∏´‡∏°"], label: 0 },
            { words: ["‡∏â‡∏±‡∏ô", "‡πÄ‡∏õ‡πá‡∏ô", "‡∏Ñ‡∏ô", "‡πÑ‡∏ó‡∏¢", "‡∏ó‡∏µ‡πà", "‡∏û‡∏π‡∏î", "‡∏à‡∏µ‡∏ô", "‡πÑ‡∏î‡πâ", "‡∏ô‡∏¥‡∏î", "‡∏´‡∏ô‡πà‡∏≠‡∏¢"], label: 0 },
            { words: ["‡πÄ‡∏Ç‡∏≤", "‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å", "‡πÄ‡πÄ‡∏ï‡πà", "‡πÄ‡∏Ç‡∏≤", "‡∏°‡∏µ", "‡πÄ‡πÄ‡∏ü‡∏ô", "‡πÄ‡πÄ‡∏•‡πâ‡∏ß", "‡∏ô‡∏∞"], label: 0 },
            { words: ["‡∏Å‡∏≤‡∏£", "‡∏ó‡∏≥‡∏á‡∏≤‡∏ô", "‡∏Ç‡∏≠‡∏á", "‡∏£‡∏∞‡∏ö‡∏ö", "‡∏¢‡πà‡∏≠‡∏¢", "‡∏≠‡∏≤‡∏´‡∏≤‡∏£", "‡πÄ‡∏õ‡πá‡∏ô", "‡∏¢‡∏±‡∏á‡πÑ‡∏á", "‡∏´‡∏£‡∏≠"], label: 0 },
            { words: ["‡∏Ñ‡∏ß‡∏≤‡∏°", "‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å", "‡∏Ç‡∏≠‡∏á", "‡πÄ‡∏Ç‡∏≤", "‡∏ó‡∏µ‡πà", "‡∏°‡∏µ", "‡πÉ‡∏´‡πâ", "‡∏â‡∏±‡∏ô", "‡∏°‡∏±‡∏ô", "‡∏•‡∏∂‡∏Å", "‡∏ã‡∏∂‡πâ‡∏á", "‡πÄ‡∏´‡∏•‡∏∑‡∏≠", "‡πÄ‡∏Å‡∏¥‡∏ô"], label: 0 },
            { words: ["‡∏Å‡∏≤‡∏£", "‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î", "‡∏ó‡∏≥", "‡πÉ‡∏´‡πâ", "‡πÄ‡∏ï‡∏µ‡πâ‡∏¢", "‡∏•‡∏á", "‡∏à‡∏£‡∏¥‡∏á", "‡∏´‡∏£‡∏≠"], label: 0 },
            { words: ["‡∏ß‡∏±‡∏ô", "‡∏ô‡∏µ‡πâ", "‡∏à‡∏∞", "‡∏ß‡∏¥‡πà‡∏á", "‡∏´‡∏£‡∏∑‡∏≠", "‡πÄ‡∏î‡∏¥‡∏ô"], label: 0 },
            { words: ["‡∏ú‡∏°", "‡∏Ç‡∏≠‡∏á", "‡πÄ‡∏Ç‡∏≤", "‡∏¢‡∏≤‡∏ß", "‡∏°‡∏≤‡∏Å"], label: 0 },
            { words: ["‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô", "‡∏Ñ‡∏ô", "‡∏ô‡∏µ‡πâ", "‡πÑ‡∏°‡πà", "‡∏¢‡∏≠‡∏°", "‡∏ï‡∏±‡∏î", "‡πÄ‡∏•‡πá‡∏ö"], label: 0 },
            { words: ["‡πÄ‡πÄ‡∏°‡∏ß", "‡∏ï‡∏±‡∏ß", "‡∏ô‡∏±‡πâ‡∏ô", "‡∏´‡∏≤‡∏á", "‡∏Ç‡∏≤‡∏î"], label: 0 },
            { words: ["‡∏ï‡πâ‡∏ô", "‡πÑ‡∏°‡πâ", "‡∏™‡∏π‡∏á", "‡∏à‡∏±‡∏á"], label: 0 },
            { words: ["‡∏£‡∏±‡∏á", "‡∏ô‡∏Å", "‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏µ‡∏¢‡πå", "‡∏≠‡∏¢‡∏π‡πà", "‡∏ö‡∏ô", "‡∏´‡∏ô‡πâ‡∏≤", "‡∏ú‡∏≤"], label: 0 },
            { words: ["‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå", "‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß", "‡∏Å‡∏±‡∏ö", "‡πÄ‡∏•‡∏Ç", "‡πÉ‡∏ä‡πà", "‡πÑ‡∏´‡∏°"], label: 0 },
            { words: ["‡∏õ‡∏•‡∏≤", "‡∏ä‡∏≠‡∏ö", "‡∏Å‡∏¥‡∏ô", "‡∏≠‡∏∞‡πÑ‡∏£", "‡∏´‡∏£‡∏≠"], label: 0 },
            { words: ["‡∏ó‡∏µ‡πà", "‡∏ô‡∏≠‡∏ô", "‡∏Ç‡∏≠‡∏á", "‡πÄ‡∏Ç‡∏≤", "‡∏¢‡∏±‡∏ö", "‡∏°‡∏≤‡∏Å"], label: 0 },
            { words: ["‡πÄ‡∏™‡∏∑‡πâ‡∏≠", "‡∏ï‡∏±‡∏ß", "‡∏ô‡∏µ‡πâ", "‡πÄ‡∏õ‡πá‡∏ô", "‡∏ï‡∏±‡∏ß", "‡πÇ‡∏õ‡∏£‡∏î", "‡∏Ç‡∏≠‡∏á", "‡∏â‡∏±‡∏ô"], label: 0 },
            { words: ["‡∏û‡∏±‡∏î‡∏•‡∏°", "‡∏™‡πà‡∏≤‡∏¢", "‡∏´‡∏ô‡πâ‡∏≤", "‡πÑ‡∏õ", "‡∏°‡∏≤"], label: 0 },
            { words: ["‡∏ù‡∏∏‡πà‡∏ô", "‡πÄ‡∏°‡πá‡∏î", "‡∏à‡∏¥‡πã‡∏ß", "‡∏•‡∏≠‡∏¢", "‡πÉ‡∏ô", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏®"], label: 0 },
            { words: ["‡πÄ‡∏Ç‡∏≤", "‡∏£‡∏±‡∏Å", "‡∏â‡∏±‡∏ô", "‡πÄ‡πÄ‡∏ï‡πà", "‡∏â‡∏±‡∏ô", "‡πÑ‡∏°‡πà", "‡∏£‡∏±‡∏Å", "‡πÄ‡∏Ç‡∏≤"], label: 0 },
            { words: ["‡πÄ‡∏ó‡πâ‡∏≤", "‡∏Ç‡∏≠‡∏á", "‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢", "‡∏Ñ‡∏ô", "‡∏ô‡∏±‡πâ‡∏ô", "‡∏Å‡∏≥‡∏•‡∏±‡∏á", "‡∏ö‡∏ß‡∏°"], label: 0 },
            { words: ["‡∏ú‡∏µ", "‡∏°‡∏±‡∏Å", "‡∏à‡∏∞", "‡πÇ‡∏ú‡∏•‡πà", "‡∏°‡∏≤", "‡πÉ‡∏ô", "‡∏ß‡∏±‡∏ô", "‡∏Æ‡∏≤‡πÇ‡∏•‡∏ß‡∏µ‡∏ô"], label: 0 },
            { words: ["‡πÉ‡∏ô", "‡∏ß‡∏±‡∏ô", "‡∏•‡∏≠‡∏¢", "‡∏Å‡∏£‡∏∞‡∏ó‡∏á", "‡πÄ‡∏£‡∏≤", "‡∏ï‡πâ‡∏≠‡∏á", "‡πÑ‡∏õ", "‡∏ó‡∏µ‡πà", "‡∏™‡∏£‡∏∞", "‡∏ô‡πâ‡∏≥"], label: 0 },
            { words: ["‡∏ß‡∏±‡∏î", "‡πÄ‡πÄ‡∏´‡πà‡∏á", "‡∏ô‡∏µ‡πâ", "‡∏™‡∏ß‡∏¢", "‡∏á‡∏≤‡∏°", "‡∏°‡∏≤‡∏Å"], label: 0 },
            { words: ["‡∏û‡∏£‡∏∞", "‡∏£‡∏π‡∏õ", "‡∏ô‡∏±‡πâ‡∏ô", "‡πÄ‡∏ó‡∏®", "‡∏ô‡πà‡∏≤", "‡∏ü‡∏±‡∏á", "‡∏°‡∏≤‡∏Å"], label: 0 },
            { words: ["‡∏´‡∏ô‡∏π", "‡∏ä‡∏≠‡∏ö", "‡∏Å‡∏¥‡∏ô", "‡∏ä‡∏µ‡∏™", "‡πÄ‡πÄ‡∏•‡∏∞", "‡∏°‡∏±‡∏ô", "‡∏ß‡∏¥‡πà‡∏á", "‡πÄ‡∏£‡πá‡∏ß", "‡∏°‡∏≤‡∏Å"], label: 0 },
            { words: ["‡∏û‡∏£‡∏∞‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå", "‡∏™‡πà‡∏≠‡∏á", "‡πÄ‡πÄ‡∏™‡∏á", "‡∏£‡πâ‡∏≠‡∏ô", "‡πÄ‡πÄ‡∏£‡∏á", "‡∏°‡∏≤‡∏Å"], label: 0 },
            { words: ["‡∏´‡∏ô‡∏π", "‡∏£‡∏±‡∏Å", "‡∏Ñ‡∏∏‡∏ì", "‡∏û‡πà‡∏≠", "‡πÄ‡πÄ‡∏•‡∏∞", "‡∏Ñ‡∏∏‡∏ì", "‡πÄ‡πÄ‡∏°‡πà"], label: 0 },
            { words: ["‡∏£‡∏π‡∏õ", "‡∏†‡∏≤‡∏û", "‡πÉ‡∏ö", "‡∏ô‡∏µ‡πâ", "‡∏â‡∏±‡∏ô", "‡∏Ç‡∏≠", "‡πÄ‡∏Å‡πá‡∏ö", "‡πÑ‡∏ß‡πâ", "‡∏ô‡∏∞"], label: 0 },
            { words: ["‡πÉ‡∏´‡πâ", "‡πÄ‡∏Ç‡∏≤", "‡∏ô‡∏±‡πà‡∏á", "‡∏ï‡∏£‡∏á", "‡∏ô‡∏µ‡πâ", "‡πÑ‡∏î‡πâ", "‡πÑ‡∏´‡∏°"], label: 0 },
            { words: ["‡∏Æ‡∏¥‡∏õ‡πÇ‡∏õ", "‡∏ï‡∏±‡∏ß", "‡∏ô‡∏±‡πâ‡∏ô", "‡∏Å‡∏¥‡∏ô", "‡πÄ‡πÄ‡∏Ñ‡πà", "‡∏û‡∏∑‡∏ä", "‡πÄ‡πÄ‡∏ï‡πà", "‡∏Å‡πá", "‡∏¢‡∏±‡∏á", "‡∏≠‡πâ‡∏ß‡∏ô", "‡∏≠‡∏¢‡∏π‡πà"], label: 0 },
            { words: ["‡∏â‡∏•‡∏≤‡∏°", "‡πÄ‡∏Ñ‡∏¢", "‡πÄ‡πÄ‡∏õ‡∏£‡∏á", "‡∏ü‡∏±‡∏ô", "‡∏ö‡πâ‡∏≤‡∏á", "‡πÑ‡∏´‡∏°", "‡∏ô‡∏∞"], label: 0 },
        ];

        // ==== ‡∏™‡∏£‡πâ‡∏≤‡∏á word vector ====
        const wordVector = {};
        let index = 0;
        dataset.forEach(item => {
            item.words.forEach(word => {
                if (!(word in wordVector)) {
                    wordVector[word] = index++;
                }
            });
        });

        const badWordsList = ["‡∏≠‡πâ‡∏ß‡∏ô", "‡πÇ‡∏á‡πà", "‡∏Ñ‡∏ß‡∏≤‡∏¢", "‡∏´‡∏∏‡∏ö‡∏õ‡∏≤‡∏Å", "‡∏ï‡∏µ‡∏ô", "‡∏°‡∏∂‡∏á", "‡πÄ‡πÄ‡∏°‡πà‡∏á", "‡∏Ç‡∏¢‡∏∞", "‡∏Å‡∏≤‡∏Å", "‡∏ó‡∏∏‡πÄ‡∏•‡∏™", "‡πÄ‡∏™‡∏∑‡∏≠‡∏Å", "‡πÄ‡∏™‡∏£‡πà‡∏≠", "‡∏´‡∏°‡∏≤", "‡∏Å‡∏π", "‡∏™‡πâ‡∏ô‡∏ï‡∏µ‡∏ô", "‡πÄ‡∏´‡∏µ‡πâ‡∏¢", "‡πÄ‡∏•‡∏ß", "‡∏ä‡∏±‡πà‡∏ß", "‡∏™‡∏±‡∏™", "‡∏´‡πà‡∏≤", "‡∏î‡∏±‡∏Å‡∏î‡∏≤‡∏ô", "‡∏™‡∏ñ‡∏∏‡∏ô", "‡∏£‡πà‡∏≤‡∏ô", "‡∏î‡∏≠‡∏Å‡∏ó‡∏≠‡∏á", "‡∏≠‡∏±‡∏õ‡∏õ‡∏£‡∏µ"];

        // ==== ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏ß‡∏Å‡πÄ‡∏ï‡∏≠‡∏£‡πå + bias term ====
        function vectorizeSentence(words, wordVector) {
            const vector = new Array(Object.keys(wordVector).length + 1).fill(0);
            words.forEach(word => {
                if (word in wordVector) {
                    vector[wordVector[word]] += 1;
                }
            });
            vector[vector.length - 1] = 1; // bias term
            return vector;
        }

        // ==== ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° X, y ====
        const X = dataset.map(d => vectorizeSentence(d.words, wordVector));
        const y = dataset.map(d => d.label);

        // ==== Logistic Regression ====
        function sigmoid(z) {
            if (z < -709) return 0;
            if (z > 709) return 1;
            return 1 / (1 + Math.exp(-z));
        }

        function trainLogisticRegression(X, y, lr = 0.1, epochs = 1000) {
            let weights = new Array(X[0].length).fill(0);

            for (let epoch = 0; epoch < epochs; epoch++) {
                let gradient = new Array(weights.length).fill(0);

                for (let i = 0; i < X.length; i++) {
                    const z = X[i].reduce((sum, val, idx) => sum + val * weights[idx], 0);
                    const pred = sigmoid(z);
                    for (let j = 0; j < weights.length; j++) {
                        gradient[j] += (pred - y[i]) * X[i][j];
                    }
                }

                for (let j = 0; j < weights.length; j++) {
                    weights[j] -= lr * gradient[j] / X.length;
                }
            }
            return weights;
        }

        // ==== Train & Test ====
        const weights = trainLogisticRegression(X, y, 0.1, 500);
        
        let myChart;

        function checkSentence() {
            const inputElement = document.getElementById('sentenceInput');
            const inputSentence = inputElement.value.trim();
            
            if (inputSentence === "") {
                alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏∞!");
                return;
            }

            const words = inputSentence.split(/\s+/).filter(word => word !== '');
            const vec = vectorizeSentence(words, wordVector);
            const z = vec.reduce((sum, val, idx) => sum + val * weights[idx], 0);
            const prob = sigmoid(z);
            const confidenceScore = prob * 100;
            
            const badWordsFound = words.filter(word => badWordsList.includes(word));
            
            const resultLabel = confidenceScore >= 50 ? '‡∏Ñ‡∏≥‡∏´‡∏¢‡∏≤‡∏ö' : '‡∏Ñ‡∏≥‡∏™‡∏∏‡∏†‡∏≤‡∏û';
            const labelClass = confidenceScore >= 50 ? 'label-rude' : 'label-polite';
            
            displayResult(confidenceScore, resultLabel, labelClass, badWordsFound, words);
        }

        function displayResult(score, label, labelClass, badWords, originalWords) {
            document.getElementById('initialState').classList.add('hidden');
            document.getElementById('resultContent').classList.remove('hidden');
            
            const resultLabelEl = document.getElementById('resultLabel');
            resultLabelEl.textContent = `‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢: ${label}`;
            resultLabelEl.className = labelClass;
            
            const badWordsFoundEl = document.getElementById('badWordsFound');
            if (badWords.length > 0) {
                let highlightedSentence = originalWords.map(word => {
                    if (badWords.includes(word)) {
                        return `<strong class="${labelClass}">${word}</strong>`;
                    }
                    return word;
                }).join(' ');
                
                badWordsFoundEl.innerHTML = `‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö‡∏Ñ‡∏≥‡∏´‡∏¢‡∏≤‡∏ö: ${highlightedSentence}`;
            } else {
                badWordsFoundEl.innerHTML = `‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ñ‡∏≥‡∏´‡∏¢‡∏≤‡∏ö‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏ô‡∏µ‡πâ`;
            }
            
            updateChart(score);
        }

        function updateChart(score) {
            const ctx = document.getElementById('confidenceChart').getContext('2d');
            const scoreTextEl = document.getElementById('scoreText');

            if (myChart) {
                myChart.destroy();
            }

            const color = score >= 50 ? '#ff6384' : '#4bc0c0';

            myChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    datasets: [{
                        data: [0, 100],
                        backgroundColor: [color, '#e9e9e9'],
                        borderColor: ['rgba(255, 255, 255, 0)', 'rgba(255, 255, 255, 0)'],
                        borderWidth: 0,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '80%',
                    rotation: -90,
                    circumference: 360,
                    tooltips: { enabled: false },
                    hover: { mode: null },
                    plugins: {
                        legend: { display: false },
                        tooltip: { enabled: false }
                    },
                    animation: {
                        onProgress: function(animation) {
                            const currentScore = animation.currentStep / animation.numSteps * score;
                            scoreTextEl.textContent = `${Math.round(currentScore)}%`;
                        },
                        onComplete: function() {
                            scoreTextEl.textContent = `${Math.round(score)}%`;
                        }
                    }
                }
            });

            myChart.data.datasets[0].data = [score, 100 - score];
            myChart.update();
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                checkSentence();
            }
        }
    </script>
</body>
</html>
