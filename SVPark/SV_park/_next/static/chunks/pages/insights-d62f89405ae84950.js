(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[210],{1870:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/insights",function(){return c(2520)}])},2520:function(h,b,a){"use strict";a.r(b),a.d(b,{"__N_SSP":function(){return x},getFilterResponse:function(){return y}});var c=a(4776),d=a.n(c),i=a(2322),j=a(9657),k=a(5814),l=a(7093),m=a(4489),n=a(5632),o=a(2784),e=a(7492),p=a.n(e),q=a(7579);function r(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function s(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function f(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){s(g,e,f,d,h,"next",a)}function h(a){s(g,e,f,d,h,"throw",a)}d(void 0)})}}function t(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function u(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){t(d,a,c[a])})}return d}function v(a){return function(a){if(Array.isArray(a))return r(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||w(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(a,c){if(a){if("string"==typeof a)return r(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return r(a,c)}}var g,x=!0,y=(g=f(d().mark(function a(b){var c,e,f,g,h,i,j,l;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.locale,e=b.filter,f=b.currentPage,h=(g=(0,k.wG)(+f,6,e.length>0)).start,i=g.limit,a.next=4,fetch("/api/insightfilter",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({locale:c,limit:i,start:h,filter:e})});case 4:return j=a.sent,a.next=7,j.json();case 7:return l=a.sent,a.abrupt("return",l);case 9:case"end":return a.stop()}},a)})),function(a){return g.apply(this,arguments)}),z={Type:{title:"TYPE",query:"tag_types"},Solutions:{title:"OUR SOLUTIONS",query:"tag_solutions"},Industries:{title:"INDUSTRIES",query:"tag_industries"},Topics:{title:"TOPIC",query:"tag_types"}};b.default=function(a){var W,e=a.insightPage,J=a.checkList,K=a.checked,L=a.displayFilter,M=a.pageNum,N=a.filtered,h=a.recommendArticles,r=a.locale,s=a.contactUsForm,X=(0,n.useRouter)(),O=e.title,P=e.description,w=(0,o.useState)(""),g=w[0],Y=w[1],x=(0,o.useState)(M),b=x[0],Z=x[1],A=(0,o.useState)(0),Q=A[0],$=A[1],B=(0,o.useState)(K),c=B[0],_=B[1],C=(0,o.useState)(L),R=C[0],aa=C[1],D=(0,o.useState)(N),S=D[0],ab=D[1],E=(0,o.useState)(!1),T=E[0],ac=E[1],F=(0,o.useState)({data:[],meta:null}),G=F[0],ad=F[1],ae=Object.keys(c).length>0,U=1== +b&&0===Object.keys(c).length,H=(0,o.useState)(!1),V=H[0],af=H[1];(0,o.useEffect)(function(){setTimeout(function(){af(!0)},1e3)},[]),(0,o.useEffect)(function(){function a(){return(a=f(d().mark(function a(){var c,e;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y({locale:r,filter:S,currentPage:b});case 2:ad(c=a.sent),e=c.meta.pagination.total,W=setTimeout(function(){ac(!1)},300),$(ae?e:e-1);case 7:case"end":return a.stop()}},a)}))).apply(this,arguments)}clearTimeout(W),ac(!0),function(){a.apply(this,arguments)}()},[S,b]);var ag=function(a,b){X.push("/insights"+(0,k.kC)(a,b),void 0,{shallow:!0})};(0,o.useEffect)(function(){ag(c,b)},[b]);var ah=function(a){_(a),Z(1),ag(a,1)},I=function(e,a){var b=u({},c),d=c[a].filter(function(a){return a.id!==e});d.length>0?b=u({},c,t({},a,d)):delete b[a],ab(S.filter(function(b){var c=z[a].query;return!(Object.keys(b)[0]===c&&b[c].id.eq===e)})),aa(R.filter(function(b){return e!==b.id||a!==b.key})),ah(b)};return(0,i.jsxs)("div",{className:"pt-[64px] lg:pt-[86px] bg-white h-full",children:[(0,i.jsx)(j.Dv,{children:(0,i.jsx)(j.r3,{data:{title:O,quote:P}})}),(0,i.jsx)("div",{className:"flex flex-wrap lg:justify-center",children:["Type","Solutions","Industries","Topics"].map(function(a){return(0,i.jsx)("div",{children:(0,i.jsx)(j.GV,{title:a,active:g===a,onClick:function(){g!==a?Y(a):Y("")}})},a)})}),g&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:(0,q.m)("bg-neutral-200 min-h-[300px] mt-8 border-b"),children:(0,i.jsxs)(j.Dv,{padding:!1,className:"pt-8",children:[(0,i.jsx)("span",{className:"text-neutral-600",children:z[g].title}),(0,i.jsx)(j.NN,{checkList:J,viewFilter:g,checkedKeys:c,addCheckedKey:function(a,d,b){var e={};e=c&&c[g]?u({},c,t({},g,v(c[g]).concat([{id:a,name:d,key:b}]))):u({},c,t({},g,[{id:a,name:d,key:b}])),ab(v(S).concat([t({},z[b].query,{id:{eq:a}}),])),aa(v(R).concat([{id:a,name:d,key:b}])),ah(e)},removeCheckedKey:I})]})})}),(0,i.jsx)(j.Dv,{padding:!1,className:"mt-6 lg:mt-[50px] mb-6",children:Object.keys(c).length>0&&(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)("p",{className:"w-[120px] mt-2",children:"Selected Filters:"}),(0,i.jsx)(j.C2,{filter:R,removeCheckedKey:I})]})}),G.data.length>0?(0,i.jsx)(j.AB,{allData:G,isHome:U,isLoading:T,locale:r}):(0,i.jsx)(j.U_,{onClick:function(){Z(1),aa([]),ab([]),_({})},classNames:V?"opacity-1":"opacity-0"}),b&&(0,i.jsx)("div",{className:"flex justify-center mt-8",children:(0,i.jsx)(p(),{renderOnZeroPageCount:null,containerClassName:"mx-auto inline-flex flex-row items-center justify-between",activeLinkClassName:(0,q.m)("inline-flex items-center px-2 mx-2 font-medium border-t-2 border-primary text-primary"),pageClassName:"flex items-center",pageLinkClassName:"page-link relative block py-1.5 px-2 mx-2 border-0 bg-transparent outline-none hover:bg-gray-200 focus:shadow-none",breakClassName:"flex items-center",breakLabel:(0,i.jsx)("div",{className:"text-2xl font-bold lg:text-6xl",children:"..."}),nextLabel:(0,i.jsx)(l.Z,{className:"w-8 h-6 text-primary"}),onPageChange:function(a){Z(a.selected+1),window.scrollTo({top:300})},pageCount:Q/6,forcePage:b-1,previousLabel:(0,i.jsx)(m.Z,{className:"w-8 h-6 text-primary"}),marginPagesDisplayed:1,pageRangeDisplayed:3})}),h.length>0&&(0,i.jsx)("div",{className:"flex flex-wrap justify-start w-full pb-3 mt-10 bg-gray-100 lg:justify-center md:justify-start",children:(0,i.jsx)(j.Dv,{children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)(j.r3,{data:{title:e.recommendedTitle}}),(0,i.jsx)(j.iA,{bAction:void 0,locale:r,insights:h.map(function(a){return{id:a.id,slug:a.slug,image:a.image,date:a.date,title:a.title}})})]})})}),(0,i.jsx)(j.Ub,{title:s.title,description:s.description})]})}}},function(a){a.O(0,[774,888,179],function(){return a(a.s=1870)}),_N_E=a.O()}])