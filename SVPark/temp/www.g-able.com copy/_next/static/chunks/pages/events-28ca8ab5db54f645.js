(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[695],{7562:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/events",function(){return c(4205)}])},4205:function(h,b,a){"use strict";a.r(b),a.d(b,{"__N_SSP":function(){return t},fetchEvents:function(){return v},getFilterResponse:function(){return u}});var e=a(4776),c=a.n(e),i=a(2322),j=a(9657),k=a(8966),l=a(5632),m=a(4126),n=a(2784);function o(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function p(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function d(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){p(g,e,f,d,h,"next",a)}function h(a){p(g,e,f,d,h,"throw",a)}d(void 0)})}}function q(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function r(a){return function(a){if(Array.isArray(a))return o(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||s(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(a,c){if(a){if("string"==typeof a)return o(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return o(a,c)}}var f,g,t=!0,u=(f=d(c().mark(function a(b){var d,e,f,g,h,i;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=b.locale,e=b.start,f=b.limit,g=b.filter,a.next=3,fetch("/api/insightfilter",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({locale:d,limit:f,start:e,filter:g})});case 3:return h=a.sent,a.next=6,h.json();case 6:return i=a.sent,a.abrupt("return",i);case 8:case"end":return a.stop()}},a)})),function(a){return f.apply(this,arguments)}),v=(g=d(c().mark(function a(b){var d,e,f,g,h,i;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=b.locale,e=b.start,f=b.limit,g=b.date,a.next=3,fetch("/api/events",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({locale:d,limit:f,start:e,date:g})});case 3:return h=a.sent,a.next=6,h.json();case 6:return i=a.sent,a.abrupt("return",i);case 8:case"end":return a.stop()}},a)})),function(a){return g.apply(this,arguments)});b.default=function(a){var C,b=a.newsPageData,D=a.newsData,E=a.topNews,F=a.newsPageCount,G=a.upcomingEventData,H=a.upcomingEventPageCount,I=a.pastEventPageCount,J=a.pastEventData,K=(0,l.useRouter)(),e=K.query,f=e.newsPage,L=void 0===f?0:f,g=e.eventPage,M=void 0===g?0:g,h=e.tab,N=void 0===h?0:h,o=(0,n.useState)(+L),O=o[0],_=o[1],p=(0,n.useState)(+M),P=p[0],aa=p[1],s=(0,n.useState)(+N),Q=s[0],ab=s[1],t=(0,n.useState)(E),R=t[0],ac=t[1],w=(0,n.useState)(D),S=w[0],ad=w[1],x=(0,n.useState)(F),T=x[0],ae=x[1],y=(0,n.useState)(G),U=y[0],af=y[1],z=(0,n.useState)(H),V=z[0],ag=z[1],A=(0,n.useState)(J),W=A[0],ah=A[1],B=(0,n.useState)(I),X=B[0],ai=B[1];(0,n.useEffect)(function(){al(L,M,N)},[]);var Y,Z,$=(C=d(c().mark(function a(b){var d;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:_(d=b.nextSelectedPage),aj(d),al(d,P,Q);case 4:case"end":return a.stop()}},a)})),function(a){return C.apply(this,arguments)}),aj=(Y=d(c().mark(function a(b){var d,e,f,g;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=[{tag_types:{name:{eq:"NEWS"}}}],e=0,f=9,1== +b?(e=9,f=12):+b>1&&(e=9+(+b-1)*12,f=12),a.next=6,u({locale:K.locale,start:e,limit:f,filter:d});case 6:g=a.sent,0===b?(ac(g.data[0]),g.data.shift(),ad(r(g.data))):(ac(null),ad(r(g.data))),window.scrollTo({top:0}),ae(g.meta.pagination.pageCount||0);case 10:case"end":return a.stop()}},a)})),function(a){return Y.apply(this,arguments)}),ak=(Z=d(c().mark(function a(b,d){var e,f,g,h,i;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=6*b,f=6,g=(0,k.Z)(new Date,"yyyy-MM-dd"),h=0===d?{gte:g}:{lt:g},a.next=6,v({locale:K.locale,start:e,limit:f,date:h});case 6:i=a.sent,0==d?(ag(i.meta.pagination.pageCount||0),af(i.data)):(ah(i.data),ai(i.meta.pagination.pageCount||0));case 8:case"end":return a.stop()}},a)})),function(a,b){return Z.apply(this,arguments)}),al=function(a,b,c){var d=function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){q(d,a,c[a])})}return d}({},m.parse(window.location.search),{newsPage:a,eventPage:b,tab:c});K.replace({pathname:"/events",search:m.stringify(d)},void 0,{shallow:!0})};return(0,i.jsxs)("div",{className:"pt-[64px] lg:pt-[86px] bg-white",children:[(0,i.jsx)(j.pQ,{pageMeta:b.seo}),(0,i.jsx)(j.r3,{data:{title:b.title,quote:b.description},className:"mt-8"}),(0,i.jsx)(j.qF,{onPaginated:$,newsData:S,topNews:R,currentPage:O,pageCount:T}),(0,i.jsx)(j.Ji,{nextTab:function(a){aa(0),ab(a),ak(0,a),al(O,0,a)},upcomingEventData:U,currentPage:P,upcomingEventPageCount:V,pastEventData:W,pastEventPageCount:X,type:Q,goToPaginate:function(b){var a=b.nextSelectedPage;aa(a),ak(a,Q),al(O,a,Q)},title:b.eventTitle,description:b.eventDescription})]})}}},function(a){a.O(0,[774,888,179],function(){return a(a.s=7562)}),_N_E=a.O()}])