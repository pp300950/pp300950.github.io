<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ผลการลงคะแนน</title>
    <!-- Bootstrap CDN for responsive and modern UI -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        body {
            background-color: #f0f2f5;
            font-family: 'Kanit', sans-serif; /* Thai-friendly font */
            color: #333;
        }
        .header {
            text-align: center;
            padding: 1.5rem 0;
            background: linear-gradient(135deg, #007bff, #00c6ff);
            color: white;
            border-radius: 0 0 15px 15px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        .card {
            border: none;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            background: white;
            height: 100%;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }
        .card-body {
            padding: 1.5rem;
        }
        .candidate-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: inline-block;
            margin-bottom: 1rem;
            border: 3px solid #fff;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .total-card {
            background: linear-gradient(135deg, #e9ecef, #dee2e6);
            border-radius: 15px;
        }
        .abstain-card {
            background: linear-gradient(135deg, #343a40, #495057);
            color: white;
            border-radius: 15px;
        }
        .card-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        .card-text {
            font-size: 1.2rem;
            font-weight: 500;
            color: #555;
        }
        .card-text span {
            font-size: 1.5rem;
            font-weight: 700;
            color: #007bff;
        }
        .abstain-card .card-text span {
            color: #ffeb3b;
        }
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            .header p {
                font-size: 1rem;
            }
            .card {
                margin-bottom: 1.5rem;
            }
            .candidate-icon {
                width: 50px;
                height: 50px;
            }
            .card-title {
                font-size: 1.1rem;
            }
            .card-text {
                font-size: 1rem;
            }
            .card-text span {
                font-size: 1.3rem;
            }
        }
        @media (max-width: 576px) {
            .row > div {
                flex: 0 0 100%;
                max-width: 100%;
            }
        }
    </style>
    <!-- Google Fonts for Kanit -->
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="header">
        <h1>ผลการลงคะแนนเสียง</h1>
        <p>ระบบลงคะแนนแบบเรียลไทม์ผ่าน ESP8266</p>
    </div>

    <div class="container">
        <div class="row">
            <!-- เบอร์ 1 (Green) -->
            <div class="col-md-4 col-sm-6 mb-4">
                <div class="card text-center">
                    <div class="card-body">
                        <div class="candidate-icon" style="background-color: #28a745;"></div>
                        <h5 class="card-title">เบอร์ 1</h5>
                        <p class="card-text">คะแนน: <span id="vote1">0</span></p>
                    </div>
                </div>
            </div>
            <!-- เบอร์ 2 (Yellow) -->
            <div class="col-md-4 col-sm-6 mb-4">
                <div class="card text-center">
                    <div class="card-body">
                        <div class="candidate-icon" style="background-color: #ffc107;"></div>
                        <h5 class="card-title">เบอร์ 2</h5>
                        <p class="card-text">คะแนน: <span id="vote2">0</span></p>
                    </div>
                </div>
            </div>
            <!-- เบอร์ 3 (White) -->
            <div class="col-md-4 col-sm-6 mb-4">
                <div class="card text-center">
                    <div class="card-body">
                        <div class="candidate-icon" style="background-color: #ffffff; border: 3px solid #dee2e6;"></div>
                        <h5 class="card-title">เบอร์ 3</h5>
                        <p class="card-text">คะแนน: <span id="vote3">0</span></p>
                    </div>
                </div>
            </div>
            <!-- เบอร์ 4 (Red) -->
            <div class="col-md-4 col-sm-6 mb-4">
                <div class="card text-center">
                    <div class="card-body">
                        <div class="candidate-icon" style="background-color: #dc3545;"></div>
                        <h5 class="card-title">เบอร์ 4</h5>
                        <p class="card-text">คะแนน: <span id="vote4">0</span></p>
                    </div>
                </div>
            </div>
            <!-- เบอร์ 5 (Blue) -->
            <div class="col-md-4 col-sm-6 mb-4">
                <div class="card text-center">
                    <div class="card-body">
                        <div class="candidate-icon" style="background-color: #007bff;"></div>
                        <h5 class="card-title">เบอร์ 5</h5>
                        <p class="card-text">คะแนน: <span id="vote5">0</span></p>
                    </div>
                </div>
            </div>
            <!-- ไม่ประสงค์ลงคะแนน (Black) -->
            <div class="col-md-4 col-sm-6 mb-4">
                <div class="card text-center abstain-card">
                    <div class="card-body">
                        <div class="candidate-icon" style="background-color: #000000;"></div>
                        <h5 class="card-title">ไม่ประสงค์ลงคะแนน</h5>
                        <p class="card-text" style="color: #fdfdfd;">จำนวน: <span id="abstain">0</span></p>
                    </div>
                </div>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="col-md-6 mb-4">
                <div class="card text-center total-card">
                    <div class="card-body">
                        <h5 class="card-title">คะแนนเสียงรวม (เบอร์ 1-5)</h5>
                        <p class="card-text"><span id="totalVotes">0</span></p>
                    </div>
                </div>
            </div>
            <div class="col-md-6 mb-4">
                <div class="card text-center total-card">
                    <div class="card-body">
                        <h5 class="card-title">จำนวนผู้ลงคะแนนทั้งหมด (รวมไม่ประสงค์)</h5>
                        <p class="card-text"><span id="totalParticipants">0</span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS for interactivity -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <!-- Example JavaScript to update values (replace with real backend integration) -->
    <script>
        // Placeholder data - In real project, fetch from server via API/WebSocket
        let votes = {
            vote1: 10,
            vote2: 15,
            vote3: 8,
            vote4: 20,
            vote5: 12,
            abstain: 5
        };

        // Update UI
        document.getElementById('vote1').textContent = votes.vote1;
        document.getElementById('vote2').textContent = votes.vote2;
        document.getElementById('vote3').textContent = votes.vote3;
        document.getElementById('vote4').textContent = votes.vote4;
        document.getElementById('vote5').textContent = votes.vote5;
        document.getElementById('abstain').textContent = votes.abstain;

        let totalVotes = votes.vote1 + votes.vote2 + votes.vote3 + votes.vote4 + votes.vote5;
        let totalParticipants = totalVotes + votes.abstain;

        document.getElementById('totalVotes').textContent = totalVotes;
        document.getElementById('totalParticipants').textContent = totalParticipants;

        // For real-time, you can add setInterval to fetch data from your ESP8266 server
        // Example: setInterval(() => { fetch('/api/votes').then(res => res.json()).then(data => { /* update */ }); }, 5000);
    </script>
</body>
</html>
